variables:
  GIT_SUBMODULE_STRATEGY: recursive

stages:
  - prepare
  - build
  - test
  - deploy

shader_generation_job:
  stage: prepare
  script:
    - python generate_shader.py

build_job:
  stage: build
  script:
    - echo "Building the project..."
    - .\build_assimp.bat
    - .\ci-scripts\build_job.bat
  artifacts:
    paths:
    - build/
    expire_in: 1 day

test_job:
  stage: test
  script:
    - echo "Running tests..."
    - .\ci-scripts\test_job.bat
